name: "Staging Environment Monitoring"
description: "Production-like monitoring with validation gates for staging environment"
trigger: "scheduled"
schedule: "*/5 * * * *"  # Every 5 minutes
environment: "staging"

conditions:
  - type: "environment_check"
    environment: "staging"
  - type: "cluster_name_pattern"
    pattern: "*-staging-*"

actions:
  - name: "production_simulation"
    type: "supervised"
    parameters:
      load_testing: true
      performance_validation: true
      security_scanning: true
      compliance_checking: true
    
  - name: "quality_gates"
    type: "autonomous"
    parameters:
      performance_regression_check: true
      error_rate_validation: true
      resource_efficiency_check: true
      cost_projection_validation: true
    
  - name: "pre_production_validation"
    type: "supervised"
    parameters:
      deployment_readiness: true
      rollback_testing: true
      disaster_recovery_testing: true
      monitoring_validation: true

escalation:
  - condition: "error_rate > 2%"
    action: "notify_platform_team"
    urgency: "medium"
  - condition: "performance_regression > 10%"
    action: "block_promotion"
    urgency: "high"
  - condition: "security_scan_failure"
    action: "block_promotion"
    urgency: "critical"

notifications:
  slack_channel: "#staging-alerts"
  email_list: ["platform-team@company.com", "qa-team@company.com"]
  escalation_delay: "10_minutes"

approval_gates:
  - gate: "performance_validation"
    approvers: ["senior_engineer", "platform_lead"]
  - gate: "security_validation"
    approvers: ["security_team", "platform_lead"]
  - gate: "production_promotion"
    approvers: ["engineering_manager", "product_owner"]