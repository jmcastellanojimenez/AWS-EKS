name: "Production Environment Monitoring"
description: "Strict monitoring and conservative operations for production environment"
trigger: "scheduled"
schedule: "*/2 * * * *"  # Every 2 minutes
environment: "prod"

conditions:
  - type: "environment_check"
    environment: "prod"
  - type: "cluster_name_pattern"
    pattern: "*-prod-*"

actions:
  - name: "production_health_monitoring"
    type: "autonomous"
    parameters:
      sla_monitoring: true
      availability_tracking: true
      performance_monitoring: true
      security_monitoring: true
    
  - name: "conservative_optimization"
    type: "supervised"
    parameters:
      resource_optimization: "conservative"
      scaling_decisions: "human_approved"
      configuration_changes: "change_management"
      cost_optimization: "business_approved"
    
  - name: "incident_response"
    type: "autonomous"
    parameters:
      automated_remediation: true
      escalation_procedures: true
      rollback_automation: true
      communication_automation: true

escalation:
  - condition: "error_rate > 0.5%"
    action: "notify_on_call"
    urgency: "high"
  - condition: "availability < 99.9%"
    action: "page_on_call"
    urgency: "critical"
  - condition: "response_time > 1s"
    action: "notify_platform_team"
    urgency: "medium"
  - condition: "security_incident"
    action: "page_security_team"
    urgency: "critical"

notifications:
  slack_channel: "#production-alerts"
  email_list: ["on-call@company.com", "platform-team@company.com"]
  escalation_delay: "5_minutes"
  pager_duty: true

approval_gates:
  - gate: "resource_scaling"
    approvers: ["on_call_engineer", "platform_lead"]
  - gate: "configuration_changes"
    approvers: ["senior_engineer", "engineering_manager"]
  - gate: "cost_increases"
    approvers: ["engineering_manager", "finance_team"]

compliance:
  - audit_logging: "comprehensive"
  - change_tracking: "required"
  - access_monitoring: "continuous"
  - data_protection: "strict"